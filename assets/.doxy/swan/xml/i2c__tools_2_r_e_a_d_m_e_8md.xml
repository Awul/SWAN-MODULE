<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.16.1" xml:lang="en-US">
  <compounddef id="i2c__tools_2_r_e_a_d_m_e_8md" kind="file" language="Markdown">
    <compoundname>README.md</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline><highlight class="normal">|<sp/>Supported<sp/>Targets<sp/>|<sp/>ESP32<sp/>|<sp/>ESP32-C2<sp/>|<sp/>ESP32-C3<sp/>|<sp/>ESP32-C5<sp/>|<sp/>ESP32-C6<sp/>|<sp/>ESP32-C61<sp/>|<sp/>ESP32-H2<sp/>|<sp/>ESP32-H21<sp/>|<sp/>ESP32-P4<sp/>|<sp/>ESP32-S2<sp/>|<sp/>ESP32-S3<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>-----------------<sp/>|<sp/>-----<sp/>|<sp/>--------<sp/>|<sp/>--------<sp/>|<sp/>--------<sp/>|<sp/>--------<sp/>|<sp/>---------<sp/>|<sp/>--------<sp/>|<sp/>---------<sp/>|<sp/>--------<sp/>|<sp/>--------<sp/>|<sp/>--------<sp/>|</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">#<sp/>I2C<sp/>Tools<sp/>Example</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">(See<sp/>the<sp/>README.md<sp/>file<sp/>in<sp/>the<sp/>upper<sp/>level<sp/>&apos;examples&apos;<sp/>directory<sp/>for<sp/>more<sp/>information<sp/>about<sp/>examples.)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Overview</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">[I2C<sp/>Tools](https://i2c.wiki.kernel.org/index.php/I2C_Tools)<sp/>is<sp/>a<sp/>simple<sp/>but<sp/>very<sp/>useful<sp/>tool<sp/>for<sp/>developing<sp/>I2C<sp/>related<sp/>applications,<sp/>which<sp/>is<sp/>also<sp/>famous<sp/>in<sp/>Linux<sp/>platform.<sp/>This<sp/>example<sp/>just<sp/>implements<sp/>some<sp/>of<sp/>basic<sp/>features<sp/>of<sp/>[I2C<sp/>Tools](https://i2c.wiki.kernel.org/index.php/I2C_Tools)<sp/>based<sp/>on<sp/>[esp32<sp/>console<sp/>component](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/console.html).<sp/>As<sp/>follows,<sp/>this<sp/>example<sp/>supports<sp/>five<sp/>command-line<sp/>tools:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">1.<sp/>`i2cconfig`:<sp/>It<sp/>will<sp/>configure<sp/>the<sp/>I2C<sp/>bus<sp/>with<sp/>specific<sp/>GPIO<sp/>number,<sp/>port<sp/>number<sp/>and<sp/>frequency.</highlight></codeline>
<codeline><highlight class="normal">2.<sp/>`i2cdetect`:<sp/>It<sp/>will<sp/>scan<sp/>an<sp/>I2C<sp/>bus<sp/>for<sp/>devices<sp/>and<sp/>output<sp/>a<sp/>table<sp/>with<sp/>the<sp/>list<sp/>of<sp/>detected<sp/>devices<sp/>on<sp/>the<sp/>bus.</highlight></codeline>
<codeline><highlight class="normal">3.<sp/>`i2cget`:<sp/>It<sp/>will<sp/>read<sp/>registers<sp/>visible<sp/>through<sp/>the<sp/>I2C<sp/>bus.</highlight></codeline>
<codeline><highlight class="normal">4.<sp/>`i2cset`:<sp/>It<sp/>will<sp/>set<sp/>registers<sp/>visible<sp/>through<sp/>the<sp/>I2C<sp/>bus.</highlight></codeline>
<codeline><highlight class="normal">5.<sp/>`i2cdump`:<sp/>It<sp/>will<sp/>examine<sp/>registers<sp/>visible<sp/>through<sp/>the<sp/>I2C<sp/>bus.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">If<sp/>you<sp/>have<sp/>some<sp/>trouble<sp/>in<sp/>developing<sp/>I2C<sp/>related<sp/>applications,<sp/>or<sp/>just<sp/>want<sp/>to<sp/>test<sp/>some<sp/>functions<sp/>of<sp/>one<sp/>I2C<sp/>device,<sp/>you<sp/>can<sp/>play<sp/>with<sp/>this<sp/>example<sp/>first.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>How<sp/>to<sp/>use<sp/>example</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Hardware<sp/>Required</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">To<sp/>run<sp/>this<sp/>example,<sp/>you<sp/>should<sp/>have<sp/>any<sp/>ESP32,<sp/>ESP32-S,<sp/>ESP32-C,<sp/>ESP32-H,<sp/>ESP32-P<sp/>based<sp/>development<sp/>board.<sp/>For<sp/>test<sp/>purpose,<sp/>you<sp/>should<sp/>have<sp/>a<sp/>kind<sp/>of<sp/>device<sp/>with<sp/>I2C<sp/>interface<sp/>as<sp/>well.<sp/>Here<sp/>we<sp/>will<sp/>take<sp/>the<sp/>CCS811<sp/>sensor<sp/>as<sp/>an<sp/>example<sp/>to<sp/>show<sp/>how<sp/>to<sp/>test<sp/>the<sp/>function<sp/>of<sp/>this<sp/>sensor<sp/>without<sp/>writing<sp/>any<sp/>code<sp/>(just<sp/>use<sp/>the<sp/>command-line<sp/>tools<sp/>supported<sp/>by<sp/>this<sp/>example).<sp/>For<sp/>more<sp/>information<sp/>about<sp/>CCS811,<sp/>you<sp/>can<sp/>consult<sp/>the<sp/>[online<sp/>datasheet](http://ams.com/ccs811).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">####<sp/>Pin<sp/>Assignment:</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">**Note:**<sp/>The<sp/>following<sp/>pin<sp/>assignments<sp/>are<sp/>used<sp/>by<sp/>default<sp/>according<sp/>to<sp/>`CONFIG_I2C_MASTER_SCL`<sp/>and<sp/>`CONFIG_I2C_MASTER_SDA`<sp/>,<sp/>you<sp/>can<sp/>change<sp/>them<sp/>with<sp/>`i2cconfig`<sp/>command<sp/>at<sp/>any<sp/>time.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/>SDA<sp/><sp/><sp/><sp/>|<sp/>SCL<sp/><sp/><sp/><sp/>|<sp/>GND<sp/><sp/>|<sp/>Other<sp/>|<sp/>VCC<sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>-------------------<sp/>|<sp/>------<sp/>|<sp/>------<sp/>|<sp/>----<sp/>|<sp/>-----<sp/>|<sp/>----<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>ESP32<sp/>I2C<sp/>Master<sp/><sp/><sp/><sp/>|<sp/>GPIO18<sp/>|<sp/>GPIO19<sp/>|<sp/>GND<sp/><sp/>|<sp/>GND<sp/><sp/><sp/>|<sp/>3.3V<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>ESP32-S2<sp/>I2C<sp/>Master<sp/>|<sp/>GPIO5<sp/><sp/>|<sp/>GPIO4<sp/><sp/>|<sp/>GND<sp/><sp/>|<sp/>GND<sp/><sp/><sp/>|<sp/>3.3V<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>ESP32-S3<sp/>I2C<sp/>Master<sp/>|<sp/>GPIO5<sp/><sp/>|<sp/>GPIO4<sp/><sp/>|<sp/>GND<sp/><sp/>|<sp/>GND<sp/><sp/><sp/>|<sp/>3.3V<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>ESP32-C3<sp/>I2C<sp/>Master<sp/>|<sp/>GPIO5<sp/><sp/>|<sp/>GPIO4<sp/><sp/>|<sp/>GND<sp/><sp/>|<sp/>GND<sp/><sp/><sp/>|<sp/>3.3V<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>ESP32-C2<sp/>I2C<sp/>Master<sp/>|<sp/>GPIO5<sp/><sp/>|<sp/>GPIO4<sp/><sp/>|<sp/>GND<sp/><sp/>|<sp/>GND<sp/><sp/><sp/>|<sp/>3.3V<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>ESP32-H2<sp/>I2C<sp/>Master<sp/>|<sp/>GPIO5<sp/><sp/>|<sp/>GPIO4<sp/><sp/>|<sp/>GND<sp/><sp/>|<sp/>GND<sp/><sp/><sp/>|<sp/>3.3V<sp/>|</highlight></codeline>
<codeline><highlight class="normal">|<sp/>Sensor<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/>SDA<sp/><sp/><sp/><sp/>|<sp/>SCL<sp/><sp/><sp/><sp/>|<sp/>GND<sp/><sp/>|<sp/>WAK<sp/><sp/><sp/>|<sp/>VCC<sp/><sp/>|</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">**Note:**<sp/>It<sp/>is<sp/>recommended<sp/>to<sp/>add<sp/>external<sp/>pull-up<sp/>resistors<sp/>for<sp/>SDA/SCL<sp/>pins<sp/>to<sp/>make<sp/>the<sp/>communication<sp/>more<sp/>stable,<sp/>though<sp/>the<sp/>driver<sp/>will<sp/>enable<sp/>internal<sp/>pull-up<sp/>resistors.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Configure<sp/>the<sp/>project</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Open<sp/>the<sp/>project<sp/>configuration<sp/>menu<sp/>(`idf.py<sp/>menuconfig`).<sp/>Then<sp/>go<sp/>into<sp/>`Example<sp/>Configuration`<sp/>menu.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">-<sp/>You<sp/>can<sp/>choose<sp/>whether<sp/>or<sp/>not<sp/>to<sp/>save<sp/>command<sp/>history<sp/>into<sp/>flash<sp/>in<sp/>`Store<sp/>command<sp/>history<sp/>in<sp/>flash`<sp/>option.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Build<sp/>and<sp/>Flash</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Run<sp/>`idf.py<sp/>-p<sp/>PORT<sp/>flash<sp/>monitor`<sp/>to<sp/>build<sp/>and<sp/>flash<sp/>the<sp/>project..</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">(To<sp/>exit<sp/>the<sp/>serial<sp/>monitor,<sp/>type<sp/>``Ctrl-]``.)</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">See<sp/>the<sp/>[Getting<sp/>Started<sp/>Guide](https://docs.espressif.com/projects/esp-idf/en/latest/get-started/index.html)<sp/>for<sp/>full<sp/>steps<sp/>to<sp/>configure<sp/>and<sp/>use<sp/>ESP-IDF<sp/>to<sp/>build<sp/>projects.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Example<sp/>Output</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Check<sp/>all<sp/>supported<sp/>commands<sp/>and<sp/>their<sp/>usages</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```bash</highlight></codeline>
<codeline><highlight class="normal"><sp/>==============================================================</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Steps<sp/>to<sp/>Use<sp/>i2c-tools<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/>1.<sp/>Try<sp/>&apos;help&apos;,<sp/>check<sp/>all<sp/>supported<sp/>commands<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/>2.<sp/>Try<sp/>&apos;i2cconfig&apos;<sp/>to<sp/>configure<sp/>your<sp/>I2C<sp/>bus<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/>3.<sp/>Try<sp/>&apos;i2cdetect&apos;<sp/>to<sp/>scan<sp/>devices<sp/>on<sp/>the<sp/>bus<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/>4.<sp/>Try<sp/>&apos;i2cget&apos;<sp/>to<sp/>get<sp/>the<sp/>content<sp/>of<sp/>specific<sp/>register<sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/>5.<sp/>Try<sp/>&apos;i2cset&apos;<sp/>to<sp/>set<sp/>the<sp/>value<sp/>of<sp/>specific<sp/>register<sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/>6.<sp/>Try<sp/>&apos;i2cdump&apos;<sp/>to<sp/>dump<sp/>all<sp/>the<sp/>register<sp/>(Experiment)<sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|</highlight></codeline>
<codeline><highlight class="normal"><sp/>==============================================================</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">Type<sp/>&apos;help&apos;<sp/>to<sp/>get<sp/>the<sp/>list<sp/>of<sp/>commands.</highlight></codeline>
<codeline><highlight class="normal">Use<sp/>UP/DOWN<sp/>arrows<sp/>to<sp/>navigate<sp/>through<sp/>command<sp/>history.</highlight></codeline>
<codeline><highlight class="normal">Press<sp/>TAB<sp/>when<sp/>typing<sp/>command<sp/>name<sp/>to<sp/>auto-complete.</highlight></codeline>
<codeline><highlight class="normal">I<sp/>(379)<sp/>main_task:<sp/>Returned<sp/>from<sp/>app_main()</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>help</highlight></codeline>
<codeline><highlight class="normal">help</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Print<sp/>the<sp/>list<sp/>of<sp/>registered<sp/>commands</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">i2cconfig<sp/><sp/>[--port=&lt;0|1&gt;]<sp/>[--freq=&lt;Hz&gt;]<sp/>--sda=&lt;gpio&gt;<sp/>--scl=&lt;gpio&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Config<sp/>I2C<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>--port=&lt;0|1&gt;<sp/><sp/>Set<sp/>the<sp/>I2C<sp/>bus<sp/>port<sp/>number</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/>--freq=&lt;Hz&gt;<sp/><sp/>Set<sp/>the<sp/>frequency(Hz)<sp/>of<sp/>I2C<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>--sda=&lt;gpio&gt;<sp/><sp/>Set<sp/>the<sp/>gpio<sp/>for<sp/>I2C<sp/>SDA</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>--scl=&lt;gpio&gt;<sp/><sp/>Set<sp/>the<sp/>gpio<sp/>for<sp/>I2C<sp/>SCL</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">i2cdetect</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Scan<sp/>I2C<sp/>bus<sp/>for<sp/>devices</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">i2cget<sp/><sp/>-c<sp/>&lt;chip_addr&gt;<sp/>[-r<sp/>&lt;register_addr&gt;]<sp/>[-l<sp/>&lt;length&gt;]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Read<sp/>registers<sp/>visible<sp/>through<sp/>the<sp/>I2C<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-c,<sp/>--chip=&lt;chip_addr&gt;<sp/><sp/>Specify<sp/>the<sp/>address<sp/>of<sp/>the<sp/>chip<sp/>on<sp/>that<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-r,<sp/>--register=&lt;register_addr&gt;<sp/><sp/>Specify<sp/>the<sp/>address<sp/>on<sp/>that<sp/>chip<sp/>to<sp/>read<sp/>from</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-l,<sp/>--length=&lt;length&gt;<sp/><sp/>Specify<sp/>the<sp/>length<sp/>to<sp/>read<sp/>from<sp/>that<sp/>data<sp/>address</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">i2cset<sp/><sp/>-c<sp/>&lt;chip_addr&gt;<sp/>[-r<sp/>&lt;register_addr&gt;]<sp/>[&lt;data&gt;]...</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Set<sp/>registers<sp/>visible<sp/>through<sp/>the<sp/>I2C<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-c,<sp/>--chip=&lt;chip_addr&gt;<sp/><sp/>Specify<sp/>the<sp/>address<sp/>of<sp/>the<sp/>chip<sp/>on<sp/>that<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-r,<sp/>--register=&lt;register_addr&gt;<sp/><sp/>Specify<sp/>the<sp/>address<sp/>on<sp/>that<sp/>chip<sp/>to<sp/>read<sp/>from</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;data&gt;<sp/><sp/>Specify<sp/>the<sp/>data<sp/>to<sp/>write<sp/>to<sp/>that<sp/>data<sp/>address</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">i2cdump<sp/><sp/>-c<sp/>&lt;chip_addr&gt;<sp/>[-s<sp/>&lt;size&gt;]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Examine<sp/>registers<sp/>visible<sp/>through<sp/>the<sp/>I2C<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-c,<sp/>--chip=&lt;chip_addr&gt;<sp/><sp/>Specify<sp/>the<sp/>address<sp/>of<sp/>the<sp/>chip<sp/>on<sp/>that<sp/>bus</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-s,<sp/>--size=&lt;size&gt;<sp/><sp/>Specify<sp/>the<sp/>size<sp/>of<sp/>each<sp/>read</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">free</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Get<sp/>the<sp/>current<sp/>size<sp/>of<sp/>free<sp/>heap<sp/>memory</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">heap</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Get<sp/>minimum<sp/>size<sp/>of<sp/>free<sp/>heap<sp/>memory<sp/>that<sp/>was<sp/>available<sp/>during<sp/>program<sp/>execu</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>tion</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">version</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Get<sp/>version<sp/>of<sp/>chip<sp/>and<sp/>SDK</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">restart</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Software<sp/>reset<sp/>of<sp/>the<sp/>chip</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">deep_sleep<sp/><sp/>[-t<sp/>&lt;t&gt;]<sp/>[--io=&lt;n&gt;]<sp/>[--io_level=&lt;0|1&gt;]</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Enter<sp/>deep<sp/>sleep<sp/>mode.<sp/>Two<sp/>wakeup<sp/>modes<sp/>are<sp/>supported:<sp/>timer<sp/>and<sp/>GPIO.<sp/>If<sp/>no</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>wakeup<sp/>option<sp/>is<sp/>specified,<sp/>will<sp/>sleep<sp/>indefinitely.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-t,<sp/>--time=&lt;t&gt;<sp/><sp/>Wake<sp/>up<sp/>time,<sp/>ms</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>--io=&lt;n&gt;<sp/><sp/>If<sp/>specified,<sp/>wakeup<sp/>using<sp/>GPIO<sp/>with<sp/>given<sp/>number</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>--io_level=&lt;0|1&gt;<sp/><sp/>GPIO<sp/>level<sp/>to<sp/>trigger<sp/>wakeup</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">light_sleep<sp/><sp/>[-t<sp/>&lt;t&gt;]<sp/>[--io=&lt;n&gt;]...<sp/>[--io_level=&lt;0|1&gt;]...</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Enter<sp/>light<sp/>sleep<sp/>mode.<sp/>Two<sp/>wakeup<sp/>modes<sp/>are<sp/>supported:<sp/>timer<sp/>and<sp/>GPIO.<sp/>Mult</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>iple<sp/>GPIO<sp/>pins<sp/>can<sp/>be<sp/>specified<sp/>using<sp/>pairs<sp/>of<sp/>&apos;io&apos;<sp/>and<sp/>&apos;io_level&apos;<sp/>arguments</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>.<sp/>Will<sp/>also<sp/>wake<sp/>up<sp/>on<sp/>UART<sp/>input.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>-t,<sp/>--time=&lt;t&gt;<sp/><sp/>Wake<sp/>up<sp/>time,<sp/>ms</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>--io=&lt;n&gt;<sp/><sp/>If<sp/>specified,<sp/>wakeup<sp/>using<sp/>GPIO<sp/>with<sp/>given<sp/>number</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>--io_level=&lt;0|1&gt;<sp/><sp/>GPIO<sp/>level<sp/>to<sp/>trigger<sp/>wakeup</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">tasks</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>Get<sp/>information<sp/>about<sp/>running<sp/>tasks</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Configure<sp/>the<sp/>I2C<sp/>bus</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```bash</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>i2cconfig<sp/>--port=0<sp/>--sda=18<sp/>--scl=19<sp/>--freq=100000</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>`--port`<sp/>option<sp/>to<sp/>specify<sp/>the<sp/>port<sp/>of<sp/>I2C,<sp/>here<sp/>we<sp/>choose<sp/>port<sp/>0<sp/>for<sp/>test.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>`--sda`<sp/>and<sp/>`--scl`<sp/>options<sp/>to<sp/>specify<sp/>the<sp/>gpio<sp/>number<sp/>used<sp/>by<sp/>I2C<sp/>bus,<sp/>here<sp/>we<sp/>choose<sp/>GPIO18<sp/>as<sp/>the<sp/>SDA<sp/>and<sp/>GPIO19<sp/>as<sp/>the<sp/>SCL.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>`--freq`<sp/>option<sp/>to<sp/>specify<sp/>the<sp/>frequency<sp/>of<sp/>I2C<sp/>bus,<sp/>here<sp/>we<sp/>set<sp/>to<sp/>100KHz.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Check<sp/>the<sp/>I2C<sp/>address<sp/>(7<sp/>bits)<sp/>on<sp/>the<sp/>I2C<sp/>bus</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```bash</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>i2cdetect</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>0<sp/><sp/>1<sp/><sp/>2<sp/><sp/>3<sp/><sp/>4<sp/><sp/>5<sp/><sp/>6<sp/><sp/>7<sp/><sp/>8<sp/><sp/>9<sp/><sp/>a<sp/><sp/>b<sp/><sp/>c<sp/><sp/>d<sp/><sp/>e<sp/><sp/>f</highlight></codeline>
<codeline><highlight class="normal">00:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">10:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">20:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">30:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">40:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">50:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>5b<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">60:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">70:<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--<sp/>--</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>Here<sp/>we<sp/>found<sp/>the<sp/>address<sp/>of<sp/>CCS811<sp/>is<sp/>0x5b.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Get<sp/>the<sp/>value<sp/>of<sp/>status<sp/>register</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```bash</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>i2cget<sp/>-c<sp/>0x5b<sp/>-r<sp/>0x00<sp/>-l<sp/>1</highlight></codeline>
<codeline><highlight class="normal">0x10</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>`-c`<sp/>option<sp/>to<sp/>specify<sp/>the<sp/>address<sp/>of<sp/>I2C<sp/>device<sp/>(acquired<sp/>from<sp/>`i2cdetect`<sp/>command).</highlight></codeline>
<codeline><highlight class="normal">*<sp/>`-r`<sp/>option<sp/>to<sp/>specify<sp/>the<sp/>register<sp/>address<sp/>you<sp/>want<sp/>to<sp/>inspect.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>`-l`<sp/>option<sp/>to<sp/>specify<sp/>the<sp/>length<sp/>of<sp/>the<sp/>content.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Here<sp/>the<sp/>returned<sp/>value<sp/>0x10<sp/>means<sp/>that<sp/>the<sp/>sensor<sp/>is<sp/>just<sp/>in<sp/>the<sp/>boot<sp/>mode<sp/>and<sp/>is<sp/>ready<sp/>to<sp/>go<sp/>into<sp/>application<sp/>mode.<sp/>For<sp/>more<sp/>information<sp/>about<sp/>CCS811<sp/>you<sp/>should<sp/>consult<sp/>the<sp/>[official<sp/>website](http://ams.com/ccs811).</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Change<sp/>the<sp/>working<sp/>mode</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```bash</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>i2cset<sp/>-c<sp/>0x5b<sp/>-r<sp/>0xF4</highlight></codeline>
<codeline><highlight class="normal">I<sp/>(734717)<sp/>cmd_i2ctools:<sp/>Write<sp/>OK</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>i2cset<sp/>-c<sp/>0x5b<sp/>-r<sp/>0x01<sp/>0x10</highlight></codeline>
<codeline><highlight class="normal">I<sp/>(1072047)<sp/>cmd_i2ctools:<sp/>Write<sp/>OK</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>i2cget<sp/>-c<sp/>0x5b<sp/>-r<sp/>0x00<sp/>-l<sp/>1</highlight></codeline>
<codeline><highlight class="normal">0x98</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>Here<sp/>we<sp/>change<sp/>the<sp/>mode<sp/>from<sp/>boot<sp/>to<sp/>application<sp/>and<sp/>set<sp/>a<sp/>proper<sp/>measure<sp/>mode<sp/>(by<sp/>writing<sp/>0x10<sp/>to<sp/>register<sp/>0x01)</highlight></codeline>
<codeline><highlight class="normal">*<sp/>Now<sp/>the<sp/>status<sp/>value<sp/>of<sp/>the<sp/>sensor<sp/>is<sp/>0x98,<sp/>which<sp/>means<sp/>a<sp/>valid<sp/>data<sp/>is<sp/>ready<sp/>to<sp/>read</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">###<sp/>Read<sp/>the<sp/>sensor<sp/>data</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">```bash</highlight></codeline>
<codeline><highlight class="normal">i2c-tools&gt;<sp/>i2cget<sp/>-c<sp/>0x5b<sp/>-r<sp/>0x02<sp/>-l<sp/>8</highlight></codeline>
<codeline><highlight class="normal">0x01<sp/>0xb0<sp/>0x00<sp/>0x04<sp/>0x98<sp/>0x00<sp/>0x19<sp/>0x8f</highlight></codeline>
<codeline><highlight class="normal">```</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>The<sp/>register<sp/>0x02<sp/>will<sp/>output<sp/>8<sp/>bytes<sp/>result,<sp/>mainly<sp/>including<sp/>value<sp/>of<sp/>eCO~2~、TVOC<sp/>and<sp/>there<sp/>raw<sp/>value.<sp/>So<sp/>the<sp/>value<sp/>of<sp/>eCO~2~<sp/>is<sp/>0x01b0<sp/>ppm<sp/>and<sp/>value<sp/>of<sp/>TVOC<sp/>is<sp/>0x04<sp/>ppb.</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">##<sp/>Troubleshooting</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">*<sp/>I<sp/>don’t<sp/>find<sp/>any<sp/>available<sp/>address<sp/>when<sp/>running<sp/>`i2cdetect`<sp/>command.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>*<sp/>Make<sp/>sure<sp/>your<sp/>wiring<sp/>connection<sp/>is<sp/>right.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>*<sp/>Some<sp/>sensor<sp/>will<sp/>have<sp/>a<sp/>“wake<sp/>up”<sp/>pin,<sp/>via<sp/>which<sp/>user<sp/>can<sp/>put<sp/>the<sp/>sensor<sp/>into<sp/>a<sp/>sleep<sp/>mode.<sp/>So<sp/>make<sp/>sure<sp/>your<sp/>sensor<sp/>in<sp/>**not**<sp/>in<sp/>the<sp/>sleep<sp/>state.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>*<sp/>Reset<sp/>you<sp/>I2C<sp/>device,<sp/>and<sp/>then<sp/>run<sp/>`i2cdetect`<sp/>again.</highlight></codeline>
<codeline><highlight class="normal">*<sp/>I<sp/>can’t<sp/>get<sp/>the<sp/>right<sp/>content<sp/>when<sp/>running<sp/>`i2cdump`<sp/>command.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>*<sp/>Currently<sp/>the<sp/>`i2cdump`<sp/>only<sp/>support<sp/>those<sp/>who<sp/>have<sp/>the<sp/>same<sp/>content<sp/>length<sp/>of<sp/>registers<sp/>inside<sp/>the<sp/>I2C<sp/>device.<sp/>For<sp/>example,<sp/>if<sp/>a<sp/>device<sp/>have<sp/>three<sp/>register<sp/>addresses,<sp/>and<sp/>the<sp/>content<sp/>length<sp/>at<sp/>these<sp/>address<sp/>are<sp/>1<sp/>byte,<sp/>2<sp/>bytes<sp/>and<sp/>4<sp/>bytes.<sp/>In<sp/>this<sp/>case<sp/>you<sp/>should<sp/>not<sp/>expect<sp/>this<sp/>command<sp/>to<sp/>dump<sp/>the<sp/>register<sp/>correctly.</highlight></codeline>
<codeline></codeline>
<codeline></codeline>
<codeline><highlight class="normal">(For<sp/>any<sp/>technical<sp/>queries,<sp/>please<sp/>open<sp/>an<sp/>[issue](https://github.com/espressif/esp-idf/issues)<sp/>on<sp/>GitHub.<sp/>We<sp/>will<sp/>get<sp/>back<sp/>to<sp/>you<sp/>as<sp/>soon<sp/>as<sp/>possible.)</highlight></codeline>
<codeline></codeline>
    </programlisting>
    <location file="C:/Users/schliep/Documents/Software/ESP32/i2c_tools/README.md"/>
  </compounddef>
</doxygen>
